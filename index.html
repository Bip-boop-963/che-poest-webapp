<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ß—ë –ø–æ–µ—Å—Ç—å?</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #fff8e7;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  flex-direction: column;
}

/* –ó–∞–≥—Ä—É–∑–∫–∞ */
.loader { display: flex; gap: 10px; }
.dot { width: 20px; height: 20px; background: #ffb74d; border-radius: 50%; animation: bounce 0.6s infinite alternate; }
.dot:nth-child(2) { animation-delay: 0.2s; }
.dot:nth-child(3) { animation-delay: 0.4s; }
@keyframes bounce { to { transform: translateY(-20px); background: #ffa726; } }

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
#menu-container { display: none; flex-direction: column; align-items: center; width: 100%; padding: 20px; box-sizing: border-box; position: relative; }
.categories { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; margin-bottom: 20px; }
.category { font-size: 1.4em; padding: 12px 20px; background: #ffebc0; border-radius: 15px; cursor: pointer; transition: transform 0.2s, background 0.2s; user-select: none; border: none; }
.category:hover { transform: scale(1.1); background: #ffd580; }

.dishes { display: none; flex-direction: column; align-items: center; gap: 10px; margin-bottom: 20px; }
.dishes.show { display: flex; }
.dish { font-size: 1.4em; padding: 10px 20px; background: #ffebc0; border-radius: 15px; cursor: pointer; transition: transform 0.2s, background 0.2s; }
.dish:hover { transform: scale(1.1); background: #ffd580; }

#back-button { font-size: 2em; position: fixed; top: 20px; left: 20px; background: #ffebc0; padding: 10px 15px; border-radius: 15px; cursor: pointer; transition: transform 0.2s, background 0.2s; display: none; border: none; z-index: 10; }
#back-button:hover { transform: scale(1.1); background: #ffd580; }

#controls { display: flex; gap: 20px; margin-bottom: 20px; }
.control-btn { width: 60px; height: 60px; font-size: 2em; display: flex; align-items: center; justify-content: center; background: #ffebc0; border-radius: 15px; border: none; cursor: pointer; transition: background 0.2s; }
.control-btn:hover { background: #ffd580; }

#list-box { display: none; margin-top: 20px; background: #fff2d6; padding: 15px 20px; border-radius: 15px; width: 250px; box-shadow: 0 4px 6px rgba(0,0,0,0.2); position: relative; }
#list-box h2 { text-align: center; margin:0 0 10px; }
#list { list-style-type: none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; font-size:1.2em; text-align:left; }
#checkout-btn { position: absolute; bottom: 10px; right: 10px; font-size: 2em; border: none; background: transparent; cursor: pointer; }

/* –†—É–ª–µ—Ç–∫–∞ */
#roulette-container { display: none; flex-direction: column; align-items: center; gap: 20px; position: relative; }
#roulette-window { width: 250px; height: 125px; overflow: hidden; border-radius: 15px; background: #fff2d6; border: 2px solid #ffd580; position: relative; }
#roulette-items { display: flex; flex-direction: column; }
.roulette-item { height: 50px; display: flex; align-items: center; justify-content: center; font-size: 1.4em; border-bottom: 1px solid #ffd580; }
#pointer { width: 0; height: 0; border-top: 20px solid transparent; border-bottom: 20px solid transparent; border-left: 30px solid red; position: absolute; top: 50%; right: -30px; transform: translateY(-50%); z-index: 10; }

/* –°—Ç—Ä–µ–ª–∫–∞ –Ω–∞–∑–∞–¥ –≤ —Ä—É–ª–µ—Ç–∫–µ */
#back-roulette { position: fixed; top: 20px; left: 20px; z-index: 10; font-size: 2em; border: none; background: #ffebc0; padding: 10px 15px; border-radius: 15px; cursor: pointer; }
#back-roulette:hover { background: #ffd580; transform: scale(1.1); }
</style>
</head>
<body>

<div class="loader"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>

<div id="menu-container">
  <div class="categories">
    <div class="category" data-category="first">üç≤ –ü–µ—Ä–≤–æ–µ</div>
    <div class="category" data-category="second">ü•ò –í—Ç–æ—Ä–æ–µ</div>
    <div class="category" data-category="salads">ü•ó –°–∞–ª–∞—Ç—ã</div>
    <div class="category" data-category="breakfast">üç≥ –ó–∞–≤—Ç—Ä–∞–∫–∏</div>
    <div class="category" data-category="tea">üç∞ –ö —á–∞—é</div>
  </div>

  <button id="back-button">‚¨ÖÔ∏è</button>

  <div id="dishes-container">
    <div class="dishes" data-category="first">
      <div class="dish" data-name="üç≤ –ë–æ—Ä—â">üç≤ –ë–æ—Ä—â</div>
      <div class="dish" data-name="üçú –õ–∞–ø—à–∞">üçú –õ–∞–ø—à–∞</div>
    </div>
    <div class="dishes" data-category="second">
      <div class="dish" data-name="üçõ –ü–ª–æ–≤">üçõ –ü–ª–æ–≤</div>
      <div class="dish" data-name="ü•© –ú—è—Å–æ √ó –∞–Ω–∞–Ω–∞—Å–∞–º–∏">ü•© –ú—è—Å–æ —Å –∞–Ω–∞–Ω–∞—Å–∞–º–∏</div>
    </div>
    <div class="dishes" data-category="salads">
      <div class="dish" data-name="ü•ó –ü–æ–ª—è–Ω–∫–∞">ü•ó –ü–æ–ª—è–Ω–∫–∞</div>
    </div>
    <div class="dishes" data-category="breakfast">
      <div class="dish" data-name="üç≥ –Ø–∏—á–Ω–∏—Ü–∞">üç≥ –Ø–∏—á–Ω–∏—Ü–∞</div>
      <div class="dish" data-name="ü•ü –ö–æ–Ω–≤–µ—Ä—Ç–∏–∫–∏">ü•ü –ö–æ–Ω–≤–µ—Ä—Ç–∏–∫–∏</div>
    </div>
    <div class="dishes" data-category="tea">
      <div class="dish" data-name="üç∞ –ß–∏–∑–∫–µ–π–∫">üç∞ –ß–∏–∑–∫–µ–π–∫</div>
      <div class="dish" data-name="ü•ß –ü–∏—Ä–æ–≥">ü•ß –ü–∏—Ä–æ–≥</div>
    </div>
  </div>

  <div id="controls">
    <button id="rouletteBtn" class="control-btn">üé≤</button>
    <button id="clear" class="control-btn">üóë</button>
  </div>

  <div id="list-box">
    <h2>üìù –°–ø–∏—Å–æ–∫</h2>
    <ul id="list"></ul>
    <button id="checkout-btn">üõí</button>
  </div>
</div>

<div id="roulette-container">
  <div id="roulette-window">
    <div id="roulette-items"></div>
    <div id="pointer"></div>
  </div>
  <button id="spinBtn" class="control-btn">üé≤</button>
  <button id="back-roulette">‚¨ÖÔ∏è</button>
</div>

<script>
const categories = document.querySelectorAll('.category');
const dishesContainers = document.querySelectorAll('.dishes');
const allDishes = document.querySelectorAll('.dish');
const cart = document.getElementById('list');
const listBox = document.getElementById('list-box');
const backButton = document.getElementById('back-button');

const rouletteContainer = document.getElementById('roulette-container');
const rouletteBtn = document.getElementById('rouletteBtn');
const rouletteItems = document.getElementById('roulette-items');
const spinBtn = document.getElementById('spinBtn');
const backRoulette = document.getElementById('back-roulette');
const checkoutBtn = document.getElementById('checkout-btn');

const dishNames = Array.from(allDishes).map(d => d.dataset.name);

// –ü–æ–∫–∞–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
categories.forEach(cat=>{
  cat.addEventListener('click', ()=>{
    const category = cat.dataset.category;
    dishesContainers.forEach(dc=>{
      dc.classList.toggle('show', dc.dataset.category===category);
    });
    document.querySelector('.categories').style.display='none';
    backButton.style.display='block';
  });
});

// –ù–∞–∑–∞–¥ –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
backButton.addEventListener('click', ()=>{
  dishesContainers.forEach(dc=>dc.classList.remove('show'));
  document.querySelector('.categories').style.display='flex';
  backButton.style.display='none';
});

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª—é–¥–∞ —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º
const dishCount = {};
function updateList(name){
  dishCount[name] = (dishCount[name]||0)+1;
  cart.innerHTML = '';
  for(const [dish, count] of Object.entries(dishCount)){
    const li = document.createElement('li');
    li.textContent = count>1 ? `${dish} √ó${count}` : dish;
    cart.appendChild(li);
  }
  listBox.style.display='block';
}

allDishes.forEach(dish=>{
  dish.addEventListener('click', ()=> updateList(dish.dataset.name));
});

// –û—á–∏—Å—Ç–∫–∞
document.getElementById('clear').addEventListener('click', ()=>{
  cart.innerHTML=''; listBox.style.display='none'; for(let key in dishCount) delete dishCount[key];
});

// --- –†—É–ª–µ—Ç–∫–∞ ---
rouletteBtn.addEventListener('click', ()=>{
  document.getElementById('menu-container').style.display='none';
  rouletteContainer.style.display='flex';
  rouletteItems.innerHTML='';
  dishNames.forEach(name=>{
    const div = document.createElement('div');
    div.className='roulette-item';
    div.textContent=name;
    rouletteItems.appendChild(div);
  });
});

backRoulette.addEventListener('click', ()=>{
  rouletteContainer.style.display='none';
  document.getElementById('menu-container').style.display='flex';
});

// –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Ä—É–ª–µ—Ç–∫–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ —Å —Ü–µ–Ω—Ç—Ä–æ–º
spinBtn.addEventListener('click', ()=>{
  const totalItems = dishNames.length;
  const spins = 3; // –ø–æ–≤—Ç–æ—Ä—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞
  const spinIndex = Math.floor(Math.random()*totalItems);
  const move = -(spinIndex + totalItems*spins) * 50 + 25; // 2.5 —è—á–µ–π–∫–∏
  rouletteItems.style.transition='transform 3s cubic-bezier(0.25,1,0.3,1)';
  rouletteItems.style.transform=`translateY(${move}px)`;
  setTimeout(()=>{
    updateList(dishNames[spinIndex]);
    rouletteItems.style.transition='none';
    rouletteItems.style.transform=`translateY(${-spinIndex*50 + 25}px)`;
  },3000);
});

// –ö–Ω–æ–ø–∫–∞ —Ç–µ–ª–µ–∂–∫–∏ üõí –¥–ª—è –∑–∞–º–µ—Ç–æ–∫
checkoutBtn.addEventListener('click', ()=>{
  const items = Array.from(document.querySelectorAll('#list li')).map(li=>li.textContent);
  if(items.length===0) return alert("–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç!");
  let noteText = '';
  items.forEach(item=>{
    noteText += `‚òê ${item}\n`;
  });
  prompt("–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–ø–∏—Å–æ–∫ –¥–ª—è –∑–∞–º–µ—Ç–æ–∫:", noteText);
});

// –°–∫—Ä—ã—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
setTimeout(()=>{
  document.querySelector('.loader').style.display='none';
  document.getElementById('menu-container').style.display='flex';
},2000);
</script>
</body>
</html>
